<div class="home-container" @fadeIn>
  <!-- Header Section -->
  <div class="header-container" @slideIn>
    <div class="header-left">
      <h1 class="dashboard-title">Teacher Dashboard</h1>
      <p class="dashboard-subtitle">ACADEMY MANAGEMENT SYSTEM</p>
    </div>
    <div class="user-profile">
      <div class="user-info">
        <div class="user-name">{{ userProfile.fullName }} | {{ userProfile.role }}</div>
        <div class="academy-name">{{ userProfile.academy || 'None' }}</div>
      </div>
      <div class="avatar-container" (click)="openProfileModal()">
        <img *ngIf="userProfile?.avatarUrl" [src]="userProfile.avatarUrl" alt="User Profile" class="avatar-image">
        <div *ngIf="!userProfile?.avatarUrl" class="avatar-placeholder">
          <i class="fas fa-user"></i>
        </div>
      </div>
    </div>
  </div>

  <div class="intro-card" @fadeIn>
    <div class="card">
      <div class="card-body">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current flex-shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        <span>Welcome to your teacher dashboard. Manage your classes and track student progress.</span>
      </div>
    </div>
  </div>

  <!-- Statistics Section -->
  <div class="stats-container" @slideIn>
    <app-stat-card 
      [icon]="statIcons.class"
      [gradientSvg]="statGradients[0]" 
      [title]="'CLASSES'"
      [value]="classCount.toString()"
      [actionLabel]="'+'"
    ></app-stat-card>
    <app-stat-card 
      [icon]="statIcons.student"
      [gradientSvg]="statGradients[1]" 
      [title]="'STUDENTS'"
      [value]="studentCount.toString()"
      [actionLabel]="'+'"
    ></app-stat-card>
    <app-stat-card 
      [icon]="statIcons.completed"
      [gradientSvg]="statGradients[2]" 
      [title]="'COMPLETED'"
      [value]="completedClassesCount.toString()"
      [actionLabel]="'+'"
    ></app-stat-card>
    <app-stat-card 
      [icon]="statIcons.rating"
      [gradientSvg]="statGradients[3]" 
      [title]="'RATING'"
      [value]="ratingScore.toString()"
      [showStar]="true"
    ></app-stat-card>
  </div>

  <!-- Main Content Area -->
  <div class="main-content-area" @staggerList>
    <!-- Class Schedule -->
    <div class="class-schedule" @slideIn>
      <div class="list-header-row">
        <div class="list-header">
          <div class="section-icon">
            <i class="fas fa-clock" style="color: #1DD8B2; font-size: 18px;"></i>
          </div>
          <h2 class="section-title">CLASS SCHEDULE</h2>
          <div class="list-actions">
            <button class="add-button">
              <i class="fas fa-plus"></i> Add Class
            </button>
          </div>
        </div>
      </div>
      <div class="divider"></div>
      
      <div class="schedule-items-container">
        <ul class="schedule-items">
          <li class="schedule-item" *ngFor="let schedule of schedules" @fadeIn>
            <div class="schedule-details">
              <div class="schedule-title">{{ schedule.title }}</div>
              <div class="schedule-time">{{ schedule.date }} | {{ schedule.time }}</div>
              <div class="schedule-students">Students: {{ schedule.students }}</div>
            </div>
            <div class="schedule-actions">
              <button class="btn-circle">
                <i class="fas fa-edit"></i>
              </button>
            </div>
          </li>
          <li *ngIf="schedules.length === 0" class="empty-list">
            No classes scheduled
          </li>
        </ul>
      </div>
    </div>

    <!-- Student List -->
    <div class="student-list-section" @slideIn>
      <div class="list-header-row">
        <div class="list-header">
          <div class="section-icon">
            <i class="fas fa-user-graduate" style="color: #1DD8B2; font-size: 18px;"></i>
          </div>
          <h2 class="section-title">STUDENT PROGRESS</h2>
          <div class="date-badge">{{ formattedSelectedDate }}</div>
        </div> 
      </div>
      
      <div class="divider"></div>
      
      <div class="student-items-container">
        <ul class="student-items">
          <li class="student-item" *ngFor="let student of students" @fadeIn>
            <div class="student-details">
              <div class="student-name">{{ student.name }}</div>
              <div class="student-course">{{ student.course }}</div>
              <div class="student-progress">
                <div class="progress-label">Progress: {{ student.progress }}%</div>
                <div class="progress-bar">
                  <div class="progress-fill" [style.width]="student.progress + '%'"></div>
                </div>
              </div>
              <div class="student-last-attended">Last Attended: {{ student.lastAttended }}</div>
            </div>
            <div class="student-actions">
              <button class="btn-circle">
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </li>
          <li *ngIf="students.length === 0" class="empty-list">
            No student data available
          </li>
        </ul>
      </div>
    </div>
    
    <!-- Calendar Section -->
    <div class="calendar-section" @slideIn>
      <div class="list-header-row">
        <div class="list-header">
          <div class="section-icon">
            <i class="fas fa-calendar-alt" style="color: #1DD8B2; font-size: 18px;"></i>
          </div>
          <h2 class="section-title">CALENDAR</h2>
        </div>
      </div>
      
      <div class="divider"></div>
      
      <app-calendar-object 
        (dateSelected)="onDateSelected($event)">
      </app-calendar-object>
    </div>
  </div>
  
  <!-- User Profile Modal -->
  <app-user-profile-modal
    [isOpen]="isProfileModalOpen"
    [userProfile]="currentUserProfile"
    (closeModal)="closeProfileModal()"
    (profileSaved)="onProfileSaved($event)"
  ></app-user-profile-modal>
</div> 